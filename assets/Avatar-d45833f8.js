import{r as t,a as i,j as w}from"./index-5d434cdc.js";import{O as y,A as x,u as E,C as L}from"./react-three-fiber.esm-eee518fd.js";import{L as A,O as S}from"./Loader-ba8e3712.js";import{u as M}from"./useGLTF-82ee3332.js";function C(r,a){const m=t.useRef(),[s]=t.useState(()=>a?a instanceof y?{current:a}:a:m),[c]=t.useState(()=>new x(void 0));t.useLayoutEffect(()=>{a&&(s.current=a instanceof y?a:a.current),c._root=s.current});const o=t.useRef({}),h=t.useMemo(()=>{const n={};return r.forEach(e=>Object.defineProperty(n,e.name,{enumerable:!0,get(){if(s.current)return o.current[e.name]||(o.current[e.name]=c.clipAction(e,s.current))},configurable:!0})),{ref:s,clips:r,actions:n,names:r.map(e=>e.name),mixer:c}},[r]);return E((n,e)=>c.update(e)),t.useEffect(()=>{const n=s.current;return()=>{o.current={},c.stopAllAction(),Object.values(h.actions).forEach(e=>{n&&c.uncacheAction(e,n)})}},[r]),h}const j=({isMobile:r,isTab:a,isBigTab:m,isSmall:s})=>{const c=t.useRef(),{scene:o,animations:h}=M("/cool-guy.glb"),{actions:n}=C(h,c);return t.useEffect(()=>{const e=Object.keys(n);n[e]&&n[e].play()},[n]),w("mesh",{children:[i("hemisphereLight",{intensity:.15,groundColor:"black"}),i("pointLight",{intensity:1}),i("spotLight",{position:[-100,50,150],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),i("primitive",{object:o,scale:m?.6:a?.4:r?.15:2.3,position:s?[0,-4,0]:m?[0,1,0]:r?[0,-3,0]:a?[0,-2.5,0]:[0,-3,0],rotation:[-.01,-.2,-.1]})]})},R=()=>{const[r,a]=t.useState(!1),[m,s]=t.useState(!1),[c,o]=t.useState(!1),[h,n]=t.useState(!1);return t.useEffect(()=>{const e=window.matchMedia("(max-width:576px)");a(e.matches);const g=u=>a(u.matches);e.addEventListener("change",g);const f=window.matchMedia("(max-width: 768px)");s(f.matches);const p=u=>s(u.matches);f.addEventListener("change",p);const d=window.matchMedia("max-width: 991px");o(d.matches);const b=u=>o(u.matches);d.addEventListener("change",b);const l=window.matchMedia("(max-height: 500px)");n(l.matches);const v=u=>n(u.matches);return l.addEventListener("change",v),()=>{e.removeEventListener("change",g),f.removeEventListener("change",p),d.removeEventListener("change",b),l.removeEventListener("change",v)}},[]),i(L,{frameloop:"demand",shadows:!0,camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},children:w(t.Suspense,{fallback:i(A,{}),children:[i(S,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),i(j,{isMobile:r,isTab:m,isBigTab:c,isSmall:h})]})})};export{R as default};
